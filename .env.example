# Server Configuration
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
BASE_URL=http://localhost:3000

# Database Configuration
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/af_auth

# Database Connection Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_CONNECTION_TIMEOUT_MS=5000
DB_MAX_RETRIES=3
DB_RETRY_DELAY_MS=1000

# Database SSL/TLS Configuration
# Enable SSL for database connections (recommended for production)
# Set to 'true' for production deployments, 'false' for local development
DB_SSL_ENABLED=false
# Whether to reject connections with invalid SSL certificates
# Set to 'true' in production, can be 'false' for development with self-signed certs
DB_SSL_REJECT_UNAUTHORIZED=true
# Optional: CA certificate for SSL verification (base64-encoded)
# DB_SSL_CA=base64_encoded_ca_certificate
# Optional: Client certificate for mutual TLS (base64-encoded)
# DB_SSL_CERT=base64_encoded_client_certificate
# Optional: Client key for mutual TLS (base64-encoded)
# DB_SSL_KEY=base64_encoded_client_key

# Logging Configuration
LOG_LEVEL=info
# Set to 'true' for pretty printing in development
LOG_PRETTY=true

# GitHub OAuth Configuration
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_CALLBACK_URL=http://localhost:3000/auth/github/callback

# GitHub Token Encryption
# REQUIRED: Encryption key for GitHub access/refresh tokens stored in database
# Must be at least 32 characters long (recommend 64+ characters)
# Generate with: openssl rand -hex 32
# SECURITY: Rotate every 90 days - see docs/security.md for rotation procedure
GITHUB_TOKEN_ENCRYPTION_KEY=your_encryption_key_at_least_32_chars_recommended_64_plus

# Session Configuration
SESSION_SECRET=your_session_secret_here_minimum_32_characters_recommended
SESSION_MAX_AGE_MS=600000

# UI Configuration
ADMIN_CONTACT_EMAIL=admin@example.com
ADMIN_CONTACT_NAME=Administrator

# JWT Configuration
# REQUIRED: RSA private key for signing JWTs (base64-encoded PEM format)
# Generate keys with: 
#   openssl genpkey -algorithm RSA -out jwt-private.pem -pkeyopt rsa_keygen_bits:2048
#   openssl rsa -pubout -in jwt-private.pem -out jwt-public.pem
# Then base64 encode:
#   base64 -w 0 jwt-private.pem  (Linux)
#   base64 -i jwt-private.pem -o - (macOS)
# SECURITY: Never commit private key to source control
# SECURITY: Rotate every 180 days - see docs/security.md for rotation procedure
JWT_PRIVATE_KEY=base64_encoded_rsa_private_key_in_pem_format
# REQUIRED: RSA public key for verifying JWTs (base64-encoded PEM format)
JWT_PUBLIC_KEY=base64_encoded_rsa_public_key_in_pem_format
# JWT expiration time (30 days as per requirements)
JWT_EXPIRES_IN=30d
# JWT issuer (typically your service URL)
JWT_ISSUER=http://localhost:3000
# JWT audience (typically your service URL or consumer services)
JWT_AUDIENCE=http://localhost:3000
# Clock tolerance in seconds for JWT validation (handles clock skew)
JWT_CLOCK_TOLERANCE_SECONDS=60

# Security
# CORS_ORIGIN=http://localhost:3000

# Cloud Run Configuration (when deploying to GCP)
# K_SERVICE=af-auth
# K_REVISION=af-auth-00001-abc
# K_CONFIGURATION=af-auth
