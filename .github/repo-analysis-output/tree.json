{
  "type": "directory",
  "name": "af-auth",
  "children": [
    {
      "type": "directory",
      "name": ".github",
      "children": [
        {
          "type": "directory",
          "name": "af-config",
          "children": [
            {
              "type": "file",
              "name": "license-header.config.json"
            },
            {
              "type": "file",
              "name": "LICENSE_HEADER"
            },
            {
              "type": "file",
              "name": "repo-analyzer.config.json"
            }
          ]
        },
        {
          "type": "directory",
          "name": "repo-analysis-output",
          "children": [
            {
              "type": "file",
              "name": "dependencies.json"
            },
            {
              "type": "file",
              "name": "dependencies.md"
            },
            {
              "type": "file",
              "name": "file-summaries.json"
            },
            {
              "type": "file",
              "name": "file-summaries.md"
            },
            {
              "type": "file",
              "name": "SUMMARY.md"
            },
            {
              "type": "file",
              "name": "tree.json"
            },
            {
              "type": "file",
              "name": "tree.md"
            }
          ]
        },
        {
          "type": "directory",
          "name": "workflows",
          "children": [
            {
              "type": "file",
              "name": "af_maintenance.yml"
            }
          ]
        }
      ]
    },
    {
      "type": "directory",
      "name": "docs",
      "children": [
        {
          "type": "directory",
          "name": "deployment",
          "children": [
            {
              "type": "file",
              "name": "cloud-run.md"
            }
          ]
        },
        {
          "type": "file",
          "name": "api.md"
        },
        {
          "type": "file",
          "name": "database.md"
        },
        {
          "type": "file",
          "name": "github-app-setup.md"
        },
        {
          "type": "file",
          "name": "jwt.md"
        },
        {
          "type": "file",
          "name": "logging.md"
        },
        {
          "type": "file",
          "name": "operations.md"
        },
        {
          "type": "file",
          "name": "ROADMAP.md"
        },
        {
          "type": "file",
          "name": "security.md"
        },
        {
          "type": "file",
          "name": "service-registry.md"
        },
        {
          "type": "file",
          "name": "setup.md"
        },
        {
          "type": "file",
          "name": "ui.md"
        }
      ]
    },
    {
      "type": "directory",
      "name": "infra",
      "children": [
        {
          "type": "directory",
          "name": "terraform",
          "children": [
            {
              "type": "directory",
              "name": "aws",
              "children": [
                {
                  "type": "file",
                  "name": "README.md"
                }
              ]
            },
            {
              "type": "directory",
              "name": "azure",
              "children": [
                {
                  "type": "file",
                  "name": "README.md"
                }
              ]
            },
            {
              "type": "directory",
              "name": "gcp",
              "children": [
                {
                  "type": "file",
                  "name": "backend.tf.example"
                },
                {
                  "type": "file",
                  "name": "main.tf"
                },
                {
                  "type": "file",
                  "name": "outputs.tf"
                },
                {
                  "type": "file",
                  "name": "README.md"
                },
                {
                  "type": "file",
                  "name": "SECURITY.md"
                },
                {
                  "type": "file",
                  "name": "terraform.tfvars.example"
                },
                {
                  "type": "file",
                  "name": "variables.tf"
                }
              ]
            },
            {
              "type": "directory",
              "name": "modules",
              "children": [
                {
                  "type": "directory",
                  "name": "auth-service",
                  "children": [
                    {
                      "type": "file",
                      "name": "main.tf"
                    },
                    {
                      "type": "file",
                      "name": "outputs.tf"
                    },
                    {
                      "type": "file",
                      "name": "variables.tf"
                    }
                  ]
                },
                {
                  "type": "directory",
                  "name": "database",
                  "children": [
                    {
                      "type": "file",
                      "name": "main.tf"
                    },
                    {
                      "type": "file",
                      "name": "outputs.tf"
                    },
                    {
                      "type": "file",
                      "name": "variables.tf"
                    }
                  ]
                },
                {
                  "type": "directory",
                  "name": "network",
                  "children": [
                    {
                      "type": "file",
                      "name": "main.tf"
                    },
                    {
                      "type": "file",
                      "name": "outputs.tf"
                    },
                    {
                      "type": "file",
                      "name": "variables.tf"
                    }
                  ]
                },
                {
                  "type": "directory",
                  "name": "redis",
                  "children": [
                    {
                      "type": "file",
                      "name": "main.tf"
                    },
                    {
                      "type": "file",
                      "name": "outputs.tf"
                    },
                    {
                      "type": "file",
                      "name": "variables.tf"
                    }
                  ]
                },
                {
                  "type": "file",
                  "name": "README.md"
                }
              ]
            },
            {
              "type": "file",
              "name": "README.md"
            },
            {
              "type": "file",
              "name": "validate.sh"
            }
          ]
        }
      ]
    },
    {
      "type": "directory",
      "name": "prisma",
      "children": [
        {
          "type": "directory",
          "name": "migrations",
          "children": [
            {
              "type": "directory",
              "name": "20241211000000_initial_setup",
              "children": [
                {
                  "type": "file",
                  "name": "migration.sql"
                }
              ]
            },
            {
              "type": "directory",
              "name": "20251212003115_add_service_registry",
              "children": [
                {
                  "type": "file",
                  "name": "migration.sql"
                }
              ]
            },
            {
              "type": "directory",
              "name": "20251212003212_",
              "children": [
                {
                  "type": "file",
                  "name": "migration.sql"
                }
              ]
            },
            {
              "type": "directory",
              "name": "20251212091408_add_revoked_tokens",
              "children": [
                {
                  "type": "file",
                  "name": "migration.sql"
                }
              ]
            },
            {
              "type": "directory",
              "name": "20251212210718_add_key_rotation_tracking",
              "children": [
                {
                  "type": "file",
                  "name": "migration.sql"
                }
              ]
            },
            {
              "type": "directory",
              "name": "20251213000000_encrypt_github_tokens",
              "children": [
                {
                  "type": "file",
                  "name": "migration.sql"
                }
              ]
            },
            {
              "type": "file",
              "name": "migration_lock.toml"
            },
            {
              "type": "file",
              "name": "README.md"
            }
          ]
        },
        {
          "type": "file",
          "name": "schema.prisma"
        }
      ]
    },
    {
      "type": "directory",
      "name": "scripts",
      "children": [
        {
          "type": "file",
          "name": "check-key-rotation.ts"
        },
        {
          "type": "file",
          "name": "cleanup-revoked-tokens.ts"
        },
        {
          "type": "file",
          "name": "create-migration.sh"
        },
        {
          "type": "file",
          "name": "manage-services.ts"
        },
        {
          "type": "file",
          "name": "migrate-encrypt-tokens.ts"
        },
        {
          "type": "file",
          "name": "validate-db.sh"
        }
      ]
    },
    {
      "type": "directory",
      "name": "src",
      "children": [
        {
          "type": "directory",
          "name": "config",
          "children": [
            {
              "type": "directory",
              "name": "keys",
              "children": [
                {
                  "type": "file",
                  "name": "jwt-public.pem"
                },
                {
                  "type": "file",
                  "name": "README.md"
                }
              ]
            },
            {
              "type": "file",
              "name": "index.test.ts"
            },
            {
              "type": "file",
              "name": "index.ts"
            }
          ]
        },
        {
          "type": "directory",
          "name": "db",
          "children": [
            {
              "type": "file",
              "name": "index.test.ts"
            },
            {
              "type": "file",
              "name": "index.ts"
            }
          ]
        },
        {
          "type": "directory",
          "name": "middleware",
          "children": [
            {
              "type": "file",
              "name": "csp-nonce.test.ts"
            },
            {
              "type": "file",
              "name": "csp-nonce.ts"
            },
            {
              "type": "file",
              "name": "jwt-auth.test.ts"
            },
            {
              "type": "file",
              "name": "jwt-auth.ts"
            },
            {
              "type": "file",
              "name": "metrics.test.ts"
            },
            {
              "type": "file",
              "name": "metrics.ts"
            },
            {
              "type": "file",
              "name": "rate-limit.test.ts"
            },
            {
              "type": "file",
              "name": "rate-limit.ts"
            },
            {
              "type": "file",
              "name": "security-headers.integration.test.ts"
            },
            {
              "type": "file",
              "name": "security-headers.test.ts"
            },
            {
              "type": "file",
              "name": "security-headers.ts"
            },
            {
              "type": "file",
              "name": "validation.test.ts"
            },
            {
              "type": "file",
              "name": "validation.ts"
            }
          ]
        },
        {
          "type": "directory",
          "name": "pages",
          "children": [
            {
              "type": "file",
              "name": "error.tsx"
            },
            {
              "type": "file",
              "name": "login.tsx"
            },
            {
              "type": "file",
              "name": "token-ready.tsx"
            },
            {
              "type": "file",
              "name": "unauthorized.tsx"
            }
          ]
        },
        {
          "type": "directory",
          "name": "routes",
          "children": [
            {
              "type": "file",
              "name": "auth.test.ts"
            },
            {
              "type": "file",
              "name": "auth.ts"
            },
            {
              "type": "file",
              "name": "github-token.test.ts"
            },
            {
              "type": "file",
              "name": "github-token.ts"
            },
            {
              "type": "file",
              "name": "jwt.test.ts"
            },
            {
              "type": "file",
              "name": "jwt.ts"
            },
            {
              "type": "file",
              "name": "metrics.test.ts"
            },
            {
              "type": "file",
              "name": "metrics.ts"
            }
          ]
        },
        {
          "type": "directory",
          "name": "services",
          "children": [
            {
              "type": "directory",
              "name": "__mocks__",
              "children": [
                {
                  "type": "file",
                  "name": "github-oauth.ts"
                },
                {
                  "type": "file",
                  "name": "redis-client.ts"
                }
              ]
            },
            {
              "type": "file",
              "name": "github-oauth.test.ts"
            },
            {
              "type": "file",
              "name": "github-oauth.ts"
            },
            {
              "type": "file",
              "name": "health-check.test.ts"
            },
            {
              "type": "file",
              "name": "health-check.ts"
            },
            {
              "type": "file",
              "name": "jwt.test.ts"
            },
            {
              "type": "file",
              "name": "jwt.ts"
            },
            {
              "type": "file",
              "name": "key-rotation.test.ts"
            },
            {
              "type": "file",
              "name": "key-rotation.ts"
            },
            {
              "type": "file",
              "name": "metrics.test.ts"
            },
            {
              "type": "file",
              "name": "metrics.ts"
            },
            {
              "type": "file",
              "name": "redis-client.ts"
            },
            {
              "type": "file",
              "name": "service-registry.test.ts"
            },
            {
              "type": "file",
              "name": "service-registry.ts"
            },
            {
              "type": "file",
              "name": "token-revocation.test.ts"
            },
            {
              "type": "file",
              "name": "token-revocation.ts"
            }
          ]
        },
        {
          "type": "directory",
          "name": "utils",
          "children": [
            {
              "type": "file",
              "name": "encryption.test.ts"
            },
            {
              "type": "file",
              "name": "encryption.ts"
            },
            {
              "type": "file",
              "name": "logger.test.ts"
            },
            {
              "type": "file",
              "name": "logger.ts"
            }
          ]
        },
        {
          "type": "file",
          "name": "server.test.ts"
        },
        {
          "type": "file",
          "name": "server.ts"
        }
      ]
    },
    {
      "type": "file",
      "name": ".env.example"
    },
    {
      "type": "file",
      "name": ".env.test"
    },
    {
      "type": "file",
      "name": ".gitignore"
    },
    {
      "type": "file",
      "name": "CHANGELOG.md"
    },
    {
      "type": "file",
      "name": "docker-compose.yml"
    },
    {
      "type": "file",
      "name": "eslint.config.js"
    },
    {
      "type": "file",
      "name": "jest.config.js"
    },
    {
      "type": "file",
      "name": "jest.setup.js"
    },
    {
      "type": "file",
      "name": "LICENSE"
    },
    {
      "type": "file",
      "name": "package-lock.json"
    },
    {
      "type": "file",
      "name": "package.json"
    },
    {
      "type": "file",
      "name": "README.md"
    },
    {
      "type": "file",
      "name": "SECURITY_SUMMARY.md"
    },
    {
      "type": "file",
      "name": "tsconfig.json"
    }
  ]
}